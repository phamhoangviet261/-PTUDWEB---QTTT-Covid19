<style>
    html {
        scroll-behavior: smooth;
    }
    .home{
        
        width: 100%;
        padding: 10px 50px;
    }
    .home--banner{
        position: relative;
        display: flex;
        overflow: hidden;
    }
    .home--banner__title {
        position: absolute;
        left: 10%;
        top: 32%;
        width: 600px;
        z-index: 999;
        height: 300px;
        
    }
    .home--banner__title h1 {
        font-weight: 900;
        font-size: 70px;
        color: var(--primary-color);
        padding: 20px;
        padding-left: 36px;
        background-color: rgba(255, 255, 255, 0.6);
        border-radius: 10px;
        
    }
    .home--banner__title a {
        font-size: 30px;
        padding: 10px 26px;
        background-color: var(--primary-color);
        color: #fff !important;
        border-radius: 6px;
        font-weight: 600;  
        cursor: pointer;
    }
    .home--banner__title a:hover {
        
        background-color: #fff ;
        color: var(--primary-color) !important;
        
    }
    @media only screen and (max-width: 425px){
        .home--banner__title {
            height: 120px;
            top: 20%;
            left: 20%;
            max-width: 60%;
        }
        .home--banner__title h1 {
            font-size: 20px;
            padding: 10px;
        }
        .home--banner__title a {
            font-size: 16px;
            padding: 6px 10px;
        }
    }
    .home--banner img{
        
        
    }
    .home--banner i{
        position: absolute;
    }
    .home--banner .fas{
        font-size: calc(4 * var(--primary-font-size));
        top: calc(50% - 32px);
        color: #a5a5a5;
        opacity: .5;
    }
    .fa-chevron-right{
        left: calc(100% - 36px);
    }
    {{!-- SLIDE --}}
    .container {
        max-width: 1000px;
        position: relative;
        margin: auto;
    }

    .slide {
        display: none;
    }

    .prev,
    .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        margin-top: -22px;
        padding: 16px;
        color: white;
        font-weight: 900;
        font-size: 18px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
    }
    
    .next {
        right: 0;
        border-radius: 3px 0 0 3px;
    }
    
    .text {
        color: #fff;
        font-size: 40px;
        position: absolute;
        bottom: 20px;
        width: 100%;
        text-align: center;
    }
    
    .numbertext {
        color: #f2f2f2;
        font-size: 12px;
        padding: 8px 12px;
        position: absolute;
        top: 0;
    }

    .slideDetails {
        width: 100%;
        height: 50vh;
    }    
    .dot {
        cursor: pointer;
        height: 13px;
        width: 13px;
        margin: 10px 2px;
        background-color: #bbb;
        border-radius: 50%;
        display: inline-block;
        transition: background-color 0.6s linear;
    }

    .active,
    .dot:hover {
        background-color: #717171;
    }

    .center {
        display: flex;
        justify-content: center;
    }

    button {
        margin: 10px;
        padding: 5px;
        background-color: #717171;
    }

    /* Fading animation */
    .fade {
        -webkit-animation-name: fade;
        -webkit-animation-duration: 1s;
        animation-name: fade;
        animation-duration: 2s;
    }

    @-webkit-keyframes fade {
        from {
            display: block;
        }
        to {
            margin: 0;
        }
    }

    @keyframes fade {
        from {
            opacity: 0.75;
        }
        to {
            opacity: 1;
        }
    }
    .default-hold {
        position: relative;
        width: 100vw;
        height: calc(100vw * 1/2);
    }

    .paging-group {
        position: absolute;
        z-index: 5;
        background-color: transparent !important;
        width: fit-content;
        height: fit-content;
        display: flex;
        top: 90%;
        left: 42%;
    }

    .paging {
        position: relative;
        height: 10px;
        width: 50px;
        background-color: gray !important;
        opacity: 80%;
        cursor: pointer;
        margin-left: 20px;
        border-radius: 3px;
        z-index: 6;
    }

    .paging:hover {
        opacity: 50%;
    }

    #pic-3 {
        transition: 1s;
    }

    #pic-1, #pic-2, #pic-3 {
        display: block;
        position: absolute;
        top: 0;
        width: 100vw;
        height: calc(100vw * 1/2);
    }
    #pic-1 {
        transition: 1s;
        z-index: 2;
    }
    
    #pic-2 {
        transition: 1s;
        z-index: 1;
    }
    #toRight {
        position: absolute;
        font-size: 150px;
        font-weight: 900;
        right: 20px;
        color: white;
        top: 38%;
        z-index: 999;
        cursor: pointer;
    }

    #toRight:hover, #toLeft:hover {
        color: #DDD;
    }

    #toLeft {
        position: absolute;
        font-size: 150px;
        color: white;
        font-weight: 900;
        left: 20px;
        top: 38%;
        z-index: 999;
        cursor: pointer;
    }

    @media only screen and (max-width: 425px)
    {
        #toRight, #toLeft {
            font-size: 36px;
        }
        .paging-group {
            left: 26%;
        }
        .paging {
            height: 8px;
            width: 40px;
        }
    }
    {{!-- PRODUCT ITEM --}}
    .home--products{
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 50px;    
        padding: 10px 150px;    
    }
    @media only screen and (max-width: 768px) {
        .home--products{            
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;        
        }
    }
    @media only screen and (max-width: 425px) {
        .home--products{            
            {{!-- grid-template-columns: repeat(2, 1fr); --}}
            grid-template-columns: 1fr;
            gap: 10px;        
        }
        .product--item {
            min-width: 300px;
        }
    }
    .home--products__bar{
        position: relative;
        text-transform: uppercase;
        font-weight: 700;
        font-size: calc( 1.5 * var(--primary-font-size));
        margin-top: 60px;
        margin-bottom: 20px;
        
    }
    .home--products__bar::before{
        content: '';
        border-left: 4px solid var(--primary-color);
        padding-right: 10px;
    }
    .product--item{
        height: calc(37 * var(--primary-font-size));
        
        display: flex;
        flex-direction: column;
        cursor: pointer;
        
        padding: 20px 10px;
        border: 1px solid #ffffff;
        box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
        transition-duration: .5s;
        border-radius: 6px;

    }
    .product--item:hover{
        transform: translateY(20px);
    }
    .product--item > img{
        width: 100%;
        height: 300px;
        flex-shrink: 0;
        object-fit: cover;
    }

    .product--item__info {
        
    }
    
    .product--item  h4{
        font-size: calc(2 * var(--primary-font-size));
        height: calc(5 * var(--primary-font-size));
        font-weight: bold;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: break-word;
    }
    .product--item  p{
        display: inline-block;
        margin-top: -4px;
        font-size: 20px;
        font-weight: 800;
        color:#6ab04c;
        
    }

    {{!-- END PRODUCT ITEM --}}
</style>
<div class="home">
    <div class="home--cataloges"></div>

    <div class="home--banner">
        <div class="default-hold">
            <p id="toLeft"><</p>
            <p id="toRight">></p>
            <div class="paging-group">
                <div class="paging"></div>
                <div class="paging"></div>
                <div class="paging"></div>
            </div>
        </div>
        <img src="home-1.jpg" id="pic-1" />
        <img src="home-2.jpg" id="pic-2" />
        <img src="home-3.jpg" id="pic-3" />
        <div class="home--banner__title">
            <h1>Cùng chung tay đẩy lùi dịch Covid-19</h1>
            <a href="#favoriteProduct">Mua ngay</a>
        </div>
    </div>

    <div id="favoriteProduct" class="home--products__bar">
            Sản phẩm ưa thích
        </div>
    
    <div class="home--products">
        
        {{#each products as |product i|}}
        <a class="product--item" href="/product/{{product.link}}">
            <img src="/products/{{product.key}}/1.jpg" alt="hihi" />
            <div class="product--item__info">
                <h4>{{product.TenSP}}</h4>
                <p>{{product.GiaTien}} đồng</p>
            </div>
        </a>  
        {{/each}}
    </div>

    <div class="home--products__bar">
            Sản phẩm bán chạy
        </div>
    <div class="home--products">
        
        {{#each productsHalfRun as |product i|}}
        <a class="product--item" href="/product/{{product.link}}">
            <img src="/products/{{product.key}}/1.jpg" alt="hihi" />
            <div class="product--item__info">
                <h4>{{product.TenSP}}</h4>
                <p>{{product.GiaTien}} dong</p>
            </div>
        </a>  
        {{/each}}
    </div>

</div>

<script>

    let current = 1;
    let next = 0;
    let max = 3;
    let rightButton = document.querySelector("#toRight");
    let leftButton = document.querySelector("#toLeft");
    const page = document.querySelectorAll(".paging");

    page[0].addEventListener('click', handlePageClick1);
    page[1].addEventListener('click', handlePageClick2);
    page[2].addEventListener('click', handlePageClick3);


    function handleRightClick(){
        page[0].removeEventListener('click', handlePageClick1);
        page[1].removeEventListener('click', handlePageClick2);
        page[2].removeEventListener('click', handlePageClick3);
        rightButton.removeEventListener('click', handleRightClick)
        leftButton.removeEventListener('click', handleLeftClick)
        if (current != max) {
            next = current + 1;
        }
        else {
            next = 1;
        }
        $(`#pic-${next}`).css("z-index", '1');
        $(`#pic-${current}`).css("transition", "1s");
        $(`#pic-${current}`).css("transform", `translateX(-100vw)`);
        setTimeout(() => {$(`#pic-${next}`).css("z-index", "2"); resetTransform(next);}, 1000);
        current = next;
    }

    function handleLeftClick(){
        page[0].removeEventListener('click', handlePageClick1);
        page[1].removeEventListener('click', handlePageClick2);
        page[2].removeEventListener('click', handlePageClick3);
        rightButton.removeEventListener('click', handleRightClick)
        leftButton.removeEventListener('click', handleLeftClick)
        if (current != 1) {
            next = current - 1;
        }
        else {
            next = max;
        }
        $(`#pic-${next}`).css("z-index", '1');
        $(`#pic-${current}`).css("transition", "1s");
        $(`#pic-${current}`).css("transform", "translateX(100vw)");
        setTimeout(() => {$(`#pic-${next}`).css("z-index", "2"); resetTransform(next);}, 1000);
        
        current = next;
    }

    

    rightButton.addEventListener('click', handleRightClick)

    leftButton.addEventListener('click', handleLeftClick)

    function handlePageClick1(){
        if (1 == current){
            return;
        }
        page[0].removeEventListener('click', handlePageClick1);
        page[1].removeEventListener('click', handlePageClick2);
        page[2].removeEventListener('click', handlePageClick3);
        rightButton.removeEventListener('click', handleRightClick);
        leftButton.removeEventListener('click', handleLeftClick);
        if (current == 1){
            return;
        }
        next = 1;
        $(`#pic-${next}`).css("z-index", '1');
        $(`#pic-${current}`).css("transition", "1s");
        if (next < current){
            $(`#pic-${current}`).css("transform", "translateX(100vw)");
        }
        else {
            $(`#pic-${current}`).css("transform", "translateX(-100vw)");
        }
        setTimeout(() => {$(`#pic-${next}`).css("z-index", "2"); resetTransform(next);}, 1000);
        
        current = next;
    }

    function handlePageClick2(){
        if (2 == current){
            return;
        }
        page[0].removeEventListener('click', handlePageClick1);
        page[1].removeEventListener('click', handlePageClick2);
        page[2].removeEventListener('click', handlePageClick3);
        rightButton.removeEventListener('click', handleRightClick);
        leftButton.removeEventListener('click', handleLeftClick);
        next = 2;
        $(`#pic-${next}`).css("z-index", '1');
        $(`#pic-${current}`).css("transition", "1s");
        if (next < current){
            $(`#pic-${current}`).css("transform", "translateX(100vw)");
        }
        else {
            $(`#pic-${current}`).css("transform", "translateX(-100vw)");
        }
        setTimeout(() => {$(`#pic-${next}`).css("z-index", "2"); resetTransform(next);}, 1000);
        
        current = next;
    }

    function handlePageClick3(){
        if (3 == current){
            return;
        }
        page[0].removeEventListener('click', handlePageClick1);
        page[1].removeEventListener('click', handlePageClick2);
        page[2].removeEventListener('click', handlePageClick3);
        rightButton.removeEventListener('click', handleRightClick);
        leftButton.removeEventListener('click', handleLeftClick);
        next = 3;
        $(`#pic-${next}`).css("z-index", '1');
        $(`#pic-${current}`).css("transition", "1s");
        if (next < current){
            $(`#pic-${current}`).css("transform", "translateX(100vw)");
        }
        else {
            $(`#pic-${current}`).css("transform", "translateX(-100vw)");
        }
        setTimeout(() => {$(`#pic-${next}`).css("z-index", "2"); resetTransform(next);}, 1000);
        
        current = next;
    }

    function resetTransform(target) {
        
        for (let i = 1; i <= max; i++){
            if (i != target){
                setTimeout(() => {
                    $(`#pic-${i}`).css("transform", "translateX(0)");
                }, 1)
                $(`#pic-${i}`).css("transition", "0s");
                $(`#pic-${i}`).css("z-index", '0');
                console.log("Run")
            }
        }
        rightButton.addEventListener('click', handleRightClick)
        leftButton.addEventListener('click', handleLeftClick)
        page[0].addEventListener('click', handlePageClick1);
        page[1].addEventListener('click', handlePageClick2);
        page[2].addEventListener('click', handlePageClick3);
    }

    
</script>



















































{{!-- <div data-section-id="70806" data-section-type="widget-box" style="padding-top: 0; padding-bottom: 0; width: 100%;">
    <div id="shopify-ali-review-widget" product-id="6964672987323">
        <div class="shop_info" shop-id="58592362683" shop-name="hoangviet-3.myshopify.com" style="display: none;">
            <div class="reviews"></div>
        </div>

        <iframe class="aliReviewsFrame" widget-id="70806" title="AliReviews" data-ar-src="https://widget.alireviews.io/widget/review-widget?shop_id=58592362683&widget_id=70806&type_page=product&product_id=6964672987323&isAdminLogin=true&star=all&customer_id=&product_in_cart=&num_rand=0&total_order_values=0&avg_order_value=0&tag=&country=&last_purchase=&t=1640699799" height="0" width="100%" frameborder="0" scrolling="no" margin="0"></iframe>
    </div>
</div> --}}
